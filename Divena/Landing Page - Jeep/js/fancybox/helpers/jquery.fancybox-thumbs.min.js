!function(e){var i=e.fancybox;i.helpers.thumbs={defaults:{width:50,height:50,position:"bottom",source:function(i){var t;return i.element&&(t=e(i.element).find("img").attr("src")),!t&&"image"===i.type&&i.href&&(t=i.href),t}},wrap:null,list:null,width:0,init:function(i,t){var a,s=this,l=i.width,o=i.height,d=i.source;a="";for(var r=0;r<t.group.length;r++)a+='<li><a style="width:'+l+"px;height:"+o+'px;" href="javascript:jQuery.fancybox.jumpto('+r+');"></a></li>';this.wrap=e('<div id="fancybox-thumbs"></div>').addClass(i.position).appendTo("body"),this.list=e("<ul>"+a+"</ul>").appendTo(this.wrap),e.each(t.group,function(i){var a=d(t.group[i]);a&&e("<img />").load(function(){var t,a,d,r=this.width,n=this.height;s.list&&r&&n&&(t=r/l,a=n/o,d=s.list.children().eq(i).find("a"),t>=1&&a>=1&&(t>a?(r=Math.floor(r/a),n=o):(r=l,n=Math.floor(n/t))),e(this).css({width:r,height:n,top:Math.floor(o/2-n/2),left:Math.floor(l/2-r/2)}),d.width(l).height(o),e(this).hide().appendTo(d).fadeIn(300))}).attr("src",a)}),this.width=this.list.children().eq(0).outerWidth(!0),this.list.width(this.width*(t.group.length+1)).css("left",Math.floor(.5*e(window).width()-(t.index*this.width+.5*this.width)))},beforeLoad:function(e,i){return i.group.length<2?(i.helpers.thumbs=!1,void 0):(i.margin["top"===e.position?0:2]+=e.height+15,void 0)},afterShow:function(e,i){this.list?this.onUpdate(e,i):this.init(e,i),this.list.children().removeClass("active").eq(i.index).addClass("active")},onUpdate:function(i,t){this.list&&this.list.stop(!0).animate({left:Math.floor(.5*e(window).width()-(t.index*this.width+.5*this.width))},150)},beforeClose:function(){this.wrap&&this.wrap.remove(),this.wrap=null,this.list=null,this.width=0}}}(jQuery);